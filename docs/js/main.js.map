{"version":3,"sources":["auto-complete.js","main.js"],"names":["autoComplete","options","document","querySelector","o","selector","source","minChars","delay","offsetLeft","offsetTop","cache","menuClass","renderItem","item","search","replace","re","RegExp","split","join","onSelect","e","term","k","hasOwnProperty","elems","_typeof","querySelectorAll","i","length","that","sc","createElement","className","autocompleteAttr","getAttribute","setAttribute","last_val","updateSC","resize","next","getBoundingClientRect","style","display","maxHeight","parseInt","window","getComputedStyle","currentStyle","suggestionHeight","offsetHeight","scrTop","scrollTop","selTop","top","addEvent","appendChild","live","sel","setTimeout","this","hasClass","v","value","blurHandler","suggest","data","val","s","innerHTML","keydownHandler","key","event","keyCode","which","nextSibling","previousSibling","childNodes","keyupHandler","clearTimeout","timer","part","slice","focusHandler","destroy","removeEvent","removeAttribute","body","removeChild","el","classList","contains","test","type","handler","attachEvent","addEventListener","detachEvent","removeEventListener","elClass","cb","context","found","target","srcElement","parentElement","call","define","amd","module","exports","marginTop","getPropertyValue","getCookie","name","let","matches","cookie","match","undefined","cls","position","zIndex","width","recalls","getElementById","add","login","rect","remove","close","_loop","pop","findAncestor","popup_close","_loop2","popup_form","account_type_radio","_loop3","j","stopPropagation","select","_loop4","slider","active_slide","nextElementSibling","slides","clientWidth","toString","_loop5","prev","previousElementSibling","toLowerCase","cities","choices","push","indexOf","expires","d","setDate","getDate","Date","toUTCString","encodeURIComponent","propName","updatedCookie","propValue","setCookie"],"mappings":"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","file":"main.js","sourcesContent":["/*\nJavaScript autoComplete v1.0.4\nCopyright (c) 2014 Simon Steinberger / Pixabay\nGitHub: https://github.com/Pixabay/JavaScript-autoComplete\nLicense: http://www.opensource.org/licenses/mit-license.php\n*/\n\nvar autoComplete = (function(){\n  function autoComplete(options){\n    if (!document.querySelector) return;\n    \n    // helpers\n    function hasClass(el, className){ return el.classList ? el.classList.contains(className) : new RegExp('\\\\b'+ className+'\\\\b').test(el.className); }\n    \n    function addEvent(el, type, handler){\n      if (el.attachEvent) el.attachEvent('on'+type, handler); else el.addEventListener(type, handler);\n    }\n    function removeEvent(el, type, handler){\n      // if (el.removeEventListener) not working in IE11\n      if (el.detachEvent) el.detachEvent('on'+type, handler); else el.removeEventListener(type, handler);\n    }\n    function live(elClass, event, cb, context){\n      addEvent(context || document, event, function(e){\n        var found, el = e.target || e.srcElement;\n        while (el && !(found = hasClass(el, elClass))) el = el.parentElement;\n        if (found) cb.call(el, e);\n      });\n    }\n    \n    var o = {\n      selector: 0,\n      source: 0,\n      minChars: 3,\n      delay: 150,\n      offsetLeft: 0,\n      offsetTop: 1,\n      cache: 1,\n      menuClass: '',\n      renderItem: function (item, search){\n        // escape special characters\n        search = search.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n        var re = new RegExp(\"(\" + search.split(' ').join('|') + \")\", \"gi\");\n        return '<div class=\"autocomplete-suggestion\" data-val=\"' + item + '\">' + item.replace(re, \"<b>$1</b>\") + '</div>';\n      },\n      onSelect: function(e, term, item){}\n    };\n    for (var k in options) { if (options.hasOwnProperty(k)) o[k] = options[k]; }\n    \n    // init\n    var elems = typeof o.selector == 'object' ? [o.selector] : document.querySelectorAll(o.selector);\n    for (var i=0; i<elems.length; i++) {\n      var that = elems[i];\n      \n      // create suggestions container \"sc\"\n      that.sc = document.createElement('div');\n      that.sc.className = 'autocomplete-suggestions '+o.menuClass;\n      \n      that.autocompleteAttr = that.getAttribute('autocomplete');\n      that.setAttribute('autocomplete', 'off');\n      that.cache = {};\n      that.last_val = '';\n      \n      that.updateSC = function(resize, next){\n        var rect = that.getBoundingClientRect();\n        // that.sc.style.left = Math.round(rect.left + (window.pageXOffset || document.documentElement.scrollLeft) + o.offsetLeft) + 'px';\n        // that.sc.style.top = Math.round(rect.bottom + (window.pageYOffset || document.documentElement.scrollTop) + o.offsetTop) + 'px';\n        // that.sc.style.width = Math.round(rect.right - rect.left + 10) + 'px'; // outerWidth\n        if (!resize) {\n          that.sc.style.display = 'block';\n          if (!that.sc.maxHeight) { that.sc.maxHeight = parseInt((window.getComputedStyle ? getComputedStyle(that.sc, null) : that.sc.currentStyle).maxHeight); }\n          if (!that.sc.suggestionHeight) that.sc.suggestionHeight = that.sc.querySelector('.autocomplete-suggestion').offsetHeight;\n          if (that.sc.suggestionHeight)\n          if (!next) that.sc.scrollTop = 0;\n          else {\n            var scrTop = that.sc.scrollTop, selTop = next.getBoundingClientRect().top - that.sc.getBoundingClientRect().top;\n            if (selTop + that.sc.suggestionHeight - that.sc.maxHeight > 0)\n            that.sc.scrollTop = selTop + that.sc.suggestionHeight + scrTop - that.sc.maxHeight;\n            else if (selTop < 0)\n            that.sc.scrollTop = selTop + scrTop;\n          }\n        }\n      }\n      addEvent(window, 'resize', that.updateSC);\n      //document.body.appendChild(that.sc);\n      document.querySelector('.city_select .select').appendChild(that.sc);\n      that.sc.style.display = 'block';\n      \n      live('autocomplete-suggestion', 'mouseleave', function(e){\n        var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n        if (sel) setTimeout(function(){ sel.className = sel.className.replace('selected', ''); }, 20);\n      }, that.sc);\n      \n      live('autocomplete-suggestion', 'mouseover', function(e){\n        var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n        if (sel) sel.className = sel.className.replace('selected', '');\n        this.className += ' selected';\n      }, that.sc);\n      \n      live('autocomplete-suggestion', 'mousedown', function(e){\n        if (hasClass(this, 'autocomplete-suggestion')) { // else outside click\n          var v = this.getAttribute('data-val');\n          that.value = v;\n          o.onSelect(e, v, this);\n          \n          that.sc.style.display = 'none';\n        }\n      }, that.sc);\n      \n      that.blurHandler = function(){\n        // try { var over_sb = document.querySelector('.autocomplete-suggestions:hover'); } catch(e){ var over_sb = 0; }\n        // if (!over_sb) {\n        //   that.last_val = that.value;\n        //   that.sc.style.display = 'none';\n        //   setTimeout(function(){ that.sc.style.display = 'none'; }, 350); // hide suggestions on fast input\n        // } else if (that !== document.activeElement) setTimeout(function(){ that.focus(); }, 20);\n      };\n      addEvent(that, 'blur', that.blurHandler);\n      \n      var suggest = function(data){\n        var val = that.value;\n        that.cache[val] = data;\n        if (data.length && val.length >= o.minChars) {\n          var s = '';\n          for (var i=0;i<data.length;i++) s += o.renderItem(data[i], val);\n          that.sc.innerHTML = s;\n          that.updateSC(0);\n        }\n        else\n        that.sc.style.display = 'none';\n      }\n      \n      that.keydownHandler = function(e){\n        var key = window.event ? e.keyCode : e.which;\n        // down (40), up (38)\n        if ((key == 40 || key == 38) && that.sc.innerHTML) {\n          var next, sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n          if (!sel) {\n            next = (key == 40) ? that.sc.querySelector('.autocomplete-suggestion') : that.sc.childNodes[that.sc.childNodes.length - 1]; // first : last\n            next.className += ' selected';\n            that.value = next.getAttribute('data-val');\n          } else {\n            next = (key == 40) ? sel.nextSibling : sel.previousSibling;\n            if (next) {\n              sel.className = sel.className.replace('selected', '');\n              next.className += ' selected';\n              that.value = next.getAttribute('data-val');\n            }\n            else { sel.className = sel.className.replace('selected', ''); that.value = '\\n'; next = 0; }\n          }\n          that.updateSC(0, next);\n          return false;\n        }\n        // esc\n        else if (key == 27) { that.value = that.last_val; that.sc.style.display = 'none'; }\n        // enter\n        else if (key == 13 || key == 9) {\n          var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n          if (sel && that.sc.style.display != 'none') {\n            o.onSelect(e, sel.getAttribute('data-val'), sel);\n            \n            that.sc.style.display = 'none';\n          }\n        }\n      };\n      addEvent(that, 'keydown', that.keydownHandler);\n      \n      that.keyupHandler = function(e){\n        var key = window.event ? e.keyCode : e.which;\n        if (!key || (key < 35 || key > 40) && key != 13 && key != 27) {\n          var val = that.value;\n          if (val.length >= o.minChars) {\n            if (val != that.last_val) {\n              that.last_val = val;\n              clearTimeout(that.timer);\n              if (o.cache) {\n                if (val in that.cache) { suggest(that.cache[val]); return; }\n                // no requests if previous suggestions were empty\n                for (var i=1; i<val.length-o.minChars; i++) {\n                  var part = val.slice(0, val.length-i);\n                  if (part in that.cache && !that.cache[part].length) { suggest([]); return; }\n                }\n              }\n              that.timer = setTimeout(function(){ o.source(val, suggest) }, o.delay);\n            }\n          } else {\n            that.last_val = val;\n            that.sc.style.display = 'none';\n          }\n        }\n      };\n      addEvent(that, 'keyup', that.keyupHandler);\n      \n      that.focusHandler = function(e){\n        that.last_val = '\\n';\n        that.keyupHandler(e)\n      };\n      if (!o.minChars) addEvent(that, 'focus', that.focusHandler);\n    }\n    \n    // public destroy method\n    this.destroy = function(){\n      for (var i=0; i<elems.length; i++) {\n        var that = elems[i];\n        removeEvent(window, 'resize', that.updateSC);\n        removeEvent(that, 'blur', that.blurHandler);\n        removeEvent(that, 'focus', that.focusHandler);\n        removeEvent(that, 'keydown', that.keydownHandler);\n        removeEvent(that, 'keyup', that.keyupHandler);\n        if (that.autocompleteAttr)\n        that.setAttribute('autocomplete', that.autocompleteAttr);\n        else\n        that.removeAttribute('autocomplete');\n        document.body.removeChild(that.sc);\n        that = null;\n      }\n    };\n  }\n  return autoComplete;\n})();\n\n(function(){\n  if (typeof define === 'function' && define.amd)\n  define('autoComplete', function () { return autoComplete; });\n  else if (typeof module !== 'undefined' && module.exports)\n  module.exports = autoComplete;\n  else\n  window.autoComplete = autoComplete;\n})();\n","window.addEventListener('resize', (e)=> {\r\n\t// fixed header margin size change\r\n\tdocument.querySelector('body > header').style.marginTop = getComputedStyle(document.querySelector('body > header nav')).getPropertyValue('height')\r\n})\r\n\r\ndocument.addEventListener('DOMContentLoaded', (e)=> {\r\n\t\r\n\tfunction getCookie(name) {\r\n\t  let matches = document.cookie.match(new RegExp(\r\n\t    '(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\r\n\t  ))\r\n\t  return matches ? decodeURIComponent(matches[1]) : undefined\r\n\t}\r\n\r\n\tfunction setCookie(name, value, options) {\r\n\t  options = options || {}\r\n\t\tlet expires = options.expires\r\n\r\n\t  if (typeof expires == 'number' && expires) {\r\n\t    let d = new Date()\r\n\t    d.setDate(d.getDate() + expires)\r\n\t    expires = options.expires = d\r\n\t  } else {\r\n\t\t\tlet d = new Date()\r\n\t    d.setDate(d.getDate() + 30)\r\n\t    expires = options.expires = d\r\n\t\t}\r\n\t  if (expires && expires.toUTCString) {\r\n\t    options.expires = expires.toUTCString()\r\n\t  }\r\n\t\t\r\n\t  value = encodeURIComponent(value)\r\n\t  \r\n\t  let updatedCookie = name + '=' + value\r\n\t  \r\n\t  for (let propName in options) {\r\n\t    updatedCookie += '; ' + propName\r\n\t    let propValue = options[propName]\r\n\t    if (propValue !== true) {\r\n\t      updatedCookie += '=' + propValue\r\n\t    }\r\n\t  }\r\n\t  document.cookie = updatedCookie\r\n\t}\r\n\t\r\n\tfunction findAncestor (el, cls) {\r\n\t\twhile ((el = el.parentElement) && !el.classList.contains(cls));\r\n\t\treturn el\r\n\t}\r\n\t\r\n\t//get user's city from cookie\r\n\tif (getCookie('user_city')!==undefined) {\r\n\t\t document.querySelector('.city_select > p').innerHTML = getCookie('user_city')\r\n\t}\r\n\t\r\n\t// fixed header\r\n\tdocument.querySelector('body > header').style.marginTop = getComputedStyle(document.querySelector('body > header nav')).getPropertyValue('height')\r\n\t\r\n\tdocument.querySelector('body > header nav').style.position = 'fixed'\r\n\tdocument.querySelector('body > header nav').style.zIndex = '2'\r\n\tdocument.querySelector('body > header nav').style.top = '0'\r\n\tdocument.querySelector('body > header nav').style.width = '100%'\r\n\t\r\n\t// recall popup\r\n\tlet recalls = document.querySelectorAll('.recall')\r\n\tfor (let i = 0; i < recalls.length; i++) {\r\n\t\trecalls[i].addEventListener('click', (e)=> {\r\n\t\t\tdocument.getElementById('recall_popup').classList.add('active')\r\n\t\t\tdocument.getElementById('recall_popup').classList.remove('inactive')\r\n\t\t})\r\n\t}\r\n\t\r\n\t// login popup\r\n\tlet login = document.querySelectorAll('.login')\r\n\tfor (let i = 0; i < login.length; i++) {\r\n\t\tlogin[i].addEventListener('click', (e)=> {\r\n\t\t\tdocument.getElementById('login_popup').classList.add('active')\r\n\t\t\tdocument.getElementById('login_popup').classList.remove('inactive')\r\n\t\t})\r\n\t}\r\n\t\r\n\t// close buttons\r\n\tlet close = document.querySelectorAll('.close')\r\n\tfor (let i = 0; i < close.length; i++) {\r\n\t\tclose[i].addEventListener('click', (e)=> {\r\n\t\t\tlet pop = findAncestor(close[i], 'popup')\r\n\t\t\tpop.classList.add('inactive')\r\n\t\t\tpop.classList.remove('active')\r\n\t\t})\r\n\t}\r\n\t\r\n\t// close popup on click outside\r\n\tlet popup_close = document.querySelectorAll('.popup')\r\n\tfor (let i = 0; i < popup_close.length; i++) {\r\n\t\tpopup_close[i].addEventListener('click', (e)=> {\r\n\t\t\tpopup_close[i].classList.add('inactive')\r\n\t\t\tpopup_close[i].classList.remove('active')\r\n\t\t})\r\n\t}\r\n\t\r\n\tlet popup_form = document.querySelectorAll('.popup .container')\r\n\tfor (let i = 0; i < popup_form.length; i++) {\r\n\t\tpopup_form[i].addEventListener('click', (e)=> {\r\n\t\t\te.stopPropagation()\r\n\t\t})\r\n\t}\r\n\t\r\n\t// account_type_check\r\n\tlet account_type_radio = document.querySelectorAll(\".account_type input[type='radio']\")\r\n\tfor (let i = 0; i < account_type_radio.length; i++) {\r\n\t\taccount_type_radio[i].addEventListener('change', (e)=> {\r\n\t\t\tfor (let j = 0; j < account_type_radio.length; j++) {\r\n\t\t\t\tif (j!== i) {\r\n\t\t\t\t\taccount_type_radio[j].parentElement.classList.remove('active')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\taccount_type_radio[i].parentElement.classList.add('active')\r\n\t\t})\r\n\t}\r\n\r\n\t// city select drop down\r\n\tdocument.querySelector('.city_select .select').addEventListener('click', (e)=> {\r\n\t\te.stopPropagation()\r\n\t})\r\n\tdocument.querySelector('.city_select > p').addEventListener('click', (e)=> {\r\n\t\tif (document.querySelector('.city_select').classList.contains('active')) {\r\n\t\t\tdocument.querySelector('.city_select').classList.add('inactive')\r\n\t\t\tdocument.querySelector('.city_select').classList.remove('active')\r\n\t\t\tdocument.querySelector('.city_select .autocomplete-suggestions').style.display = 'none'\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.city_select').classList.add('active')\r\n\t\t\tdocument.querySelector('.city_select').classList.remove('inactive')\r\n\t\t\tdocument.querySelector('#user_city').select()\r\n\t\t\tdocument.querySelector('#user_city').dispatchEvent(new Event('focus'))\r\n\t\t}\r\n\t})\r\n\t\r\n//\tslider\r\n\tlet next = document.querySelectorAll('.next')\r\n\tfor (let i = 0; i < next.length; i++) {\r\n\t\tnext[i].addEventListener('click', (e)=> {\r\n\t\t\tlet slider = findAncestor(next[i], 'slider')\r\n\t\t\tlet active_slide = slider.querySelector('.article.active')\r\n\t\t\tif (active_slide.nextElementSibling) {\r\n\t\t\t\tactive_slide.classList.remove('active')\r\n\t\t\t\tactive_slide.nextElementSibling.classList.add('active')\r\n\t\t\t\t//move\r\n\t\t\t\tlet slides = slider.querySelectorAll('.article')\r\n\t\t\t\tfor (let j = 0; j < slides.length; j++) {\r\n\t\t\t\t\tif (slides[j].classList.contains('active')) {\r\n\t\t\t\t\t\tslider.querySelector('.slide').style.transform = 'translateX(-' + (j*active_slide.clientWidth).toString() + 'px)'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tlet prev = document.querySelectorAll('.prev')\r\n\tfor (let i = 0; i < prev.length; i++) {\r\n\t\tprev[i].addEventListener('click', (e)=> {\r\n\t\t\tlet slider = findAncestor(prev[i], 'slider')\r\n\t\t\tlet active_slide = slider.querySelector('.article.active')\r\n\t\t\tif (active_slide.previousElementSibling) {\r\n\t\t\t\tactive_slide.classList.remove('active')\r\n\t\t\t\tactive_slide.previousElementSibling.classList.add('active')\r\n\t\t\t\t//move\r\n\t\t\t\tlet slides = slider.querySelectorAll('.article')\r\n\t\t\t\tfor (let j = 0; j < slides.length; j++) {\r\n\t\t\t\t\tif (slides[j].classList.contains('active')) {\r\n\t\t\t\t\t\tslider.querySelector('.slide').style.transform = 'translateX(-' + (j*active_slide.clientWidth).toString() + 'px)'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\t//city select autocomplete\r\n\tnew autoComplete({\r\n\t\tselector: '#user_city',\r\n\t\tminChars: 0,\r\n\t\toffsetLeft: -5,\r\n\t\toffsetTop: 5,\r\n\t\tsource: function(term, suggest){\r\n\t\t\tterm = term.toLowerCase()\r\n\t\t\tlet choices = []\r\n\t\t\tlet cities = document.querySelectorAll('#cities li')\r\n\t\t\tfor (let i = 0; i < cities.length; i++) {\r\n\t\t\t\tchoices.push(cities[i].innerHTML)\r\n\t\t\t}\r\n\t\t\tlet matches = []\r\n\t\t\tfor (let i=0; i<choices.length; i++)\r\n\t\t\tif (~choices[i].toLowerCase().indexOf(term)) matches.push(choices[i])\r\n\t\t\tsuggest(matches)\r\n\t\t},\r\n\t\tonSelect: function (event, term, item) {\r\n\t\t\tdocument.querySelector('.city_select > p').innerHTML = term\r\n\t\t\tsetCookie('user_city', term)\r\n\t\t\tdocument.querySelector('#user_city').value = ''\r\n\t\t\tdocument.querySelector('.city_select').classList.add('inactive')\r\n\t\t\tdocument.querySelector('.city_select').classList.remove('active')\r\n\t\t}\r\n\t})\r\n\t\r\n\t// warning popup\r\n\tdocument.querySelector(\"#login_popup form [type='submit']\").addEventListener('click', (e)=> {\r\n\t\tdocument.querySelector('#warning_popup').classList.add('active')\r\n\t\tdocument.querySelector('#warning_popup').classList.remove('inactive')\r\n\t\tdocument.querySelector('#login_popup').classList.add('inactive')\r\n\t\tdocument.querySelector('#login_popup').classList.remove('active')\r\n\t})\r\n})\r\n"]}