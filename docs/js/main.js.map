{"version":3,"sources":["auto-complete.js","main.js"],"names":["autoComplete","options","document","querySelector","o","selector","source","minChars","delay","offsetLeft","offsetTop","cache","menuClass","renderItem","item","search","replace","re","RegExp","split","join","onSelect","e","term","k","hasOwnProperty","elems","_typeof","querySelectorAll","i","length","that","sc","createElement","className","autocompleteAttr","getAttribute","setAttribute","last_val","updateSC","resize","next","getBoundingClientRect","style","display","maxHeight","parseInt","window","getComputedStyle","currentStyle","suggestionHeight","offsetHeight","scrTop","scrollTop","selTop","top","addEvent","appendChild","live","sel","setTimeout","this","hasClass","v","value","innerHTML","classList","add","remove","blurHandler","suggest","data","val","s","keydownHandler","key","event","keyCode","which","nextSibling","previousSibling","childNodes","keyupHandler","clearTimeout","timer","part","slice","focusHandler","destroy","removeEvent","removeAttribute","body","removeChild","el","contains","test","type","handler","attachEvent","addEventListener","detachEvent","removeEventListener","elClass","cb","context","found","target","srcElement","parentElement","call","define","amd","module","exports","findAncestor","cls","marginTop","getPropertyValue","position","zIndex","width","let","recalls","getElementById","close","_loop","pop","popup_close","_loop2","select","dispatchEvent","Event","_loop3","slides","slider","j","rect","transform","active_slide","clientWidth","toString","_loop4","prev","cities","choices","push","indexOf"],"mappings":"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","file":"main.js","sourcesContent":["/*\nJavaScript autoComplete v1.0.4\nCopyright (c) 2014 Simon Steinberger / Pixabay\nGitHub: https://github.com/Pixabay/JavaScript-autoComplete\nLicense: http://www.opensource.org/licenses/mit-license.php\n*/\n\nvar autoComplete = (function(){\n  function autoComplete(options){\n    if (!document.querySelector) return;\n    \n    // helpers\n    function hasClass(el, className){ return el.classList ? el.classList.contains(className) : new RegExp('\\\\b'+ className+'\\\\b').test(el.className); }\n    \n    function addEvent(el, type, handler){\n      if (el.attachEvent) el.attachEvent('on'+type, handler); else el.addEventListener(type, handler);\n    }\n    function removeEvent(el, type, handler){\n      // if (el.removeEventListener) not working in IE11\n      if (el.detachEvent) el.detachEvent('on'+type, handler); else el.removeEventListener(type, handler);\n    }\n    function live(elClass, event, cb, context){\n      addEvent(context || document, event, function(e){\n        var found, el = e.target || e.srcElement;\n        while (el && !(found = hasClass(el, elClass))) el = el.parentElement;\n        if (found) cb.call(el, e);\n      });\n    }\n    \n    var o = {\n      selector: 0,\n      source: 0,\n      minChars: 3,\n      delay: 150,\n      offsetLeft: 0,\n      offsetTop: 1,\n      cache: 1,\n      menuClass: '',\n      renderItem: function (item, search){\n        // escape special characters\n        search = search.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n        var re = new RegExp(\"(\" + search.split(' ').join('|') + \")\", \"gi\");\n        return '<div class=\"autocomplete-suggestion\" data-val=\"' + item + '\">' + item.replace(re, \"<b>$1</b>\") + '</div>';\n      },\n      onSelect: function(e, term, item){}\n    };\n    for (var k in options) { if (options.hasOwnProperty(k)) o[k] = options[k]; }\n    \n    // init\n    var elems = typeof o.selector == 'object' ? [o.selector] : document.querySelectorAll(o.selector);\n    for (var i=0; i<elems.length; i++) {\n      var that = elems[i];\n      \n      // create suggestions container \"sc\"\n      that.sc = document.createElement('div');\n      that.sc.className = 'autocomplete-suggestions '+o.menuClass;\n      \n      that.autocompleteAttr = that.getAttribute('autocomplete');\n      that.setAttribute('autocomplete', 'off');\n      that.cache = {};\n      that.last_val = '';\n      \n      that.updateSC = function(resize, next){\n        var rect = that.getBoundingClientRect();\n        // that.sc.style.left = Math.round(rect.left + (window.pageXOffset || document.documentElement.scrollLeft) + o.offsetLeft) + 'px';\n        // that.sc.style.top = Math.round(rect.bottom + (window.pageYOffset || document.documentElement.scrollTop) + o.offsetTop) + 'px';\n        // that.sc.style.width = Math.round(rect.right - rect.left + 10) + 'px'; // outerWidth\n        if (!resize) {\n          that.sc.style.display = 'block';\n          if (!that.sc.maxHeight) { that.sc.maxHeight = parseInt((window.getComputedStyle ? getComputedStyle(that.sc, null) : that.sc.currentStyle).maxHeight); }\n          if (!that.sc.suggestionHeight) that.sc.suggestionHeight = that.sc.querySelector('.autocomplete-suggestion').offsetHeight;\n          if (that.sc.suggestionHeight)\n          if (!next) that.sc.scrollTop = 0;\n          else {\n            var scrTop = that.sc.scrollTop, selTop = next.getBoundingClientRect().top - that.sc.getBoundingClientRect().top;\n            if (selTop + that.sc.suggestionHeight - that.sc.maxHeight > 0)\n            that.sc.scrollTop = selTop + that.sc.suggestionHeight + scrTop - that.sc.maxHeight;\n            else if (selTop < 0)\n            that.sc.scrollTop = selTop + scrTop;\n          }\n        }\n      }\n      addEvent(window, 'resize', that.updateSC);\n      //document.body.appendChild(that.sc);\n      document.querySelector('.city_select .select').appendChild(that.sc);\n      that.sc.style.display = 'block';\n      \n      live('autocomplete-suggestion', 'mouseleave', function(e){\n        var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n        if (sel) setTimeout(function(){ sel.className = sel.className.replace('selected', ''); }, 20);\n      }, that.sc);\n      \n      live('autocomplete-suggestion', 'mouseover', function(e){\n        var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n        if (sel) sel.className = sel.className.replace('selected', '');\n        this.className += ' selected';\n      }, that.sc);\n      \n      live('autocomplete-suggestion', 'mousedown', function(e){\n        if (hasClass(this, 'autocomplete-suggestion')) { // else outside click\n          var v = this.getAttribute('data-val');\n          that.value = v;\n          o.onSelect(e, v, this);\n          document.querySelector('.city_select > p').innerHTML = document.querySelector('#city').value;\n          document.querySelector('.city_select').classList.add('inactive');\n          document.querySelector('.city_select').classList.remove('active');\n          that.sc.style.display = 'none';\n        }\n      }, that.sc);\n      \n      that.blurHandler = function(){\n        // try { var over_sb = document.querySelector('.autocomplete-suggestions:hover'); } catch(e){ var over_sb = 0; }\n        // if (!over_sb) {\n        //   that.last_val = that.value;\n        //   that.sc.style.display = 'none';\n        //   setTimeout(function(){ that.sc.style.display = 'none'; }, 350); // hide suggestions on fast input\n        // } else if (that !== document.activeElement) setTimeout(function(){ that.focus(); }, 20);\n      };\n      addEvent(that, 'blur', that.blurHandler);\n      \n      var suggest = function(data){\n        var val = that.value;\n        that.cache[val] = data;\n        if (data.length && val.length >= o.minChars) {\n          var s = '';\n          for (var i=0;i<data.length;i++) s += o.renderItem(data[i], val);\n          that.sc.innerHTML = s;\n          that.updateSC(0);\n        }\n        else\n        that.sc.style.display = 'none';\n      }\n      \n      that.keydownHandler = function(e){\n        var key = window.event ? e.keyCode : e.which;\n        // down (40), up (38)\n        if ((key == 40 || key == 38) && that.sc.innerHTML) {\n          var next, sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n          if (!sel) {\n            next = (key == 40) ? that.sc.querySelector('.autocomplete-suggestion') : that.sc.childNodes[that.sc.childNodes.length - 1]; // first : last\n            next.className += ' selected';\n            that.value = next.getAttribute('data-val');\n          } else {\n            next = (key == 40) ? sel.nextSibling : sel.previousSibling;\n            if (next) {\n              sel.className = sel.className.replace('selected', '');\n              next.className += ' selected';\n              that.value = next.getAttribute('data-val');\n            }\n            else { sel.className = sel.className.replace('selected', ''); that.value = '\\n'; next = 0; }\n          }\n          that.updateSC(0, next);\n          return false;\n        }\n        // esc\n        else if (key == 27) { that.value = that.last_val; that.sc.style.display = 'none'; }\n        // enter\n        else if (key == 13 || key == 9) {\n          var sel = that.sc.querySelector('.autocomplete-suggestion.selected');\n          if (sel && that.sc.style.display != 'none') {\n            o.onSelect(e, sel.getAttribute('data-val'), sel);\n            document.querySelector('.city_select > p').innerHTML = document.querySelector('#city').value;\n            document.querySelector('.city_select').classList.add('inactive');\n            document.querySelector('.city_select').classList.remove('active');\n            that.sc.style.display = 'none';\n          }\n        }\n      };\n      addEvent(that, 'keydown', that.keydownHandler);\n      \n      that.keyupHandler = function(e){\n        var key = window.event ? e.keyCode : e.which;\n        if (!key || (key < 35 || key > 40) && key != 13 && key != 27) {\n          var val = that.value;\n          if (val.length >= o.minChars) {\n            if (val != that.last_val) {\n              that.last_val = val;\n              clearTimeout(that.timer);\n              if (o.cache) {\n                if (val in that.cache) { suggest(that.cache[val]); return; }\n                // no requests if previous suggestions were empty\n                for (var i=1; i<val.length-o.minChars; i++) {\n                  var part = val.slice(0, val.length-i);\n                  if (part in that.cache && !that.cache[part].length) { suggest([]); return; }\n                }\n              }\n              that.timer = setTimeout(function(){ o.source(val, suggest) }, o.delay);\n            }\n          } else {\n            that.last_val = val;\n            that.sc.style.display = 'none';\n          }\n        }\n      };\n      addEvent(that, 'keyup', that.keyupHandler);\n      \n      that.focusHandler = function(e){\n        that.last_val = '\\n';\n        that.keyupHandler(e)\n      };\n      if (!o.minChars) addEvent(that, 'focus', that.focusHandler);\n    }\n    \n    // public destroy method\n    this.destroy = function(){\n      for (var i=0; i<elems.length; i++) {\n        var that = elems[i];\n        removeEvent(window, 'resize', that.updateSC);\n        removeEvent(that, 'blur', that.blurHandler);\n        removeEvent(that, 'focus', that.focusHandler);\n        removeEvent(that, 'keydown', that.keydownHandler);\n        removeEvent(that, 'keyup', that.keyupHandler);\n        if (that.autocompleteAttr)\n        that.setAttribute('autocomplete', that.autocompleteAttr);\n        else\n        that.removeAttribute('autocomplete');\n        document.body.removeChild(that.sc);\n        that = null;\n      }\n    };\n  }\n  return autoComplete;\n})();\n\n(function(){\n  if (typeof define === 'function' && define.amd)\n  define('autoComplete', function () { return autoComplete; });\n  else if (typeof module !== 'undefined' && module.exports)\n  module.exports = autoComplete;\n  else\n  window.autoComplete = autoComplete;\n})();\n","document.addEventListener('DOMContentLoaded', (e)=> {\r\n\t\r\n\tfunction findAncestor (el, cls) {\r\n\t\twhile ((el = el.parentElement) && !el.classList.contains(cls));\r\n\t\treturn el\r\n\t}\r\n\t\r\n\t// fixed header\r\n\tdocument.querySelector('body > header').style.marginTop = getComputedStyle(document.querySelector('body > header nav')).getPropertyValue('height')\r\n\t\r\n\tdocument.querySelector('body > header nav').style.position = 'fixed'\r\n\tdocument.querySelector('body > header nav').style.zIndex = '2'\r\n\tdocument.querySelector('body > header nav').style.top = '0'\r\n\tdocument.querySelector('body > header nav').style.width = '100%'\r\n\t\r\n\t// recall popup\r\n\tlet recalls = document.querySelectorAll('.recall')\r\n\tfor (let i = 0; i < recalls.length; i++) {\r\n\t\trecalls[i].addEventListener('click', (e)=> {\r\n\t\t\tdocument.getElementById('recall_popup').classList.add('active')\r\n\t\t\tdocument.getElementById('recall_popup').classList.remove('inactive')\r\n\t\t})\r\n\t}\r\n\t\r\n\t// close buttons\r\n\tlet close = document.querySelectorAll('.close')\r\n\tfor (let i = 0; i < close.length; i++) {\r\n\t\tclose[i].addEventListener('click', (e)=> {\r\n\t\t\tlet pop = findAncestor(close[i], 'popup')\r\n\t\t\tpop.classList.add('inactive')\r\n\t\t\tpop.classList.remove('active')\r\n\t\t})\r\n\t}\r\n\t\r\n\t//close popup on click outside\r\n\tlet popup_close = document.querySelectorAll('.popup')\r\n\tfor (let i = 0; i < popup_close.length; i++) {\r\n\t\tpopup_close[i].addEventListener('click', (e)=> {\r\n\t\t\tpopup_close[i].classList.add('inactive')\r\n\t\t\tpopup_close[i].classList.remove('active')\r\n\t\t})\r\n\t}\r\n\t\r\n\tdocument.querySelector('.popup form').addEventListener('click', (e)=> {\r\n\t\te.stopPropagation()\r\n\t})\r\n\t\r\n\t// city select drop down\r\n\tdocument.querySelector('.city_select .select').addEventListener('click', (e)=> {\r\n\t\te.stopPropagation()\r\n\t})\r\n\tdocument.querySelector('.city_select > p').addEventListener('click', (e)=> {\r\n\t\tif (document.querySelector('.city_select').classList.contains('active')) {\r\n\t\t\tdocument.querySelector('.city_select').classList.add('inactive')\r\n\t\t\tdocument.querySelector('.city_select').classList.remove('active')\r\n\t\t\tdocument.querySelector('.city_select .autocomplete-suggestions').style.display = 'none'\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.city_select').classList.add('active')\r\n\t\t\tdocument.querySelector('.city_select').classList.remove('inactive')\r\n\t\t\tdocument.querySelector('#city').select()\r\n\t\t\tdocument.querySelector('#city').dispatchEvent(new Event('focus'))\r\n\t\t}\r\n\t})\r\n\t\r\n//\tslider\r\n\tlet next = document.querySelectorAll('.next')\r\n\tfor (let i = 0; i < next.length; i++) {\r\n\t\tnext[i].addEventListener('click', (e)=> {\r\n\t\t\tlet slider = findAncestor(next[i], 'slider')\r\n\t\t\tlet active_slide = slider.querySelector('.article.active')\r\n\t\t\tif (active_slide.nextElementSibling) {\r\n\t\t\t\tactive_slide.classList.remove('active')\r\n\t\t\t\tactive_slide.nextElementSibling.classList.add('active')\r\n\t\t\t\t//move\r\n\t\t\t\tlet slides = slider.querySelectorAll('.article')\r\n\t\t\t\tfor (let j = 0; j < slides.length; j++) {\r\n\t\t\t\t\tif (slides[j].classList.contains('active')) {\r\n\t\t\t\t\t\tslider.querySelector('.slide').style.transform = 'translateX(-' + (j*active_slide.clientWidth).toString() + 'px)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tlet prev = document.querySelectorAll('.prev')\r\n\tfor (let i = 0; i < prev.length; i++) {\r\n\t\tprev[i].addEventListener('click', (e)=> {\r\n\t\t\tlet slider = findAncestor(prev[i], 'slider')\r\n\t\t\tlet active_slide = slider.querySelector('.article.active')\r\n\t\t\tif (active_slide.previousElementSibling) {\r\n\t\t\t\tactive_slide.classList.remove('active')\r\n\t\t\t\tactive_slide.previousElementSibling.classList.add('active')\r\n\t\t\t\t//move\r\n\t\t\t\tlet slides = slider.querySelectorAll('.article')\r\n\t\t\t\tfor (let j = 0; j < slides.length; j++) {\r\n\t\t\t\t\tif (slides[j].classList.contains('active')) {\r\n\t\t\t\t\t\tslider.querySelector('.slide').style.transform = 'translateX(-' + (j*active_slide.clientWidth).toString() + 'px)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\t//city select autocomplete\r\n\tnew autoComplete({\r\n\t\tselector: '#city',\r\n\t\tminChars: 0,\r\n\t\toffsetLeft: -5,\r\n\t\toffsetTop: 5,\r\n\t\tsource: function(term, suggest){\r\n\t\t\tterm = term.toLowerCase()\r\n\t\t\tlet choices = []\r\n\t\t\tlet cities = document.querySelectorAll('#cities li')\r\n\t\t\tfor (let i = 0; i < cities.length; i++) {\r\n\t\t\t\tchoices.push(cities[i].innerHTML)\r\n\t\t\t}\r\n\t\t\tlet matches = [];\r\n\t\t\tfor (let i=0; i<choices.length; i++)\r\n\t\t\tif (~choices[i].toLowerCase().indexOf(term)) matches.push(choices[i])\r\n\t\t\tsuggest(matches)\r\n\t\t}\r\n\t})\r\n\t\r\n})\r\n"]}