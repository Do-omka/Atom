"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var autoComplete=function(e){if(document.querySelector){var l={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var o=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(o,"<b>$1</b>")+"</div>"},onSelect:function(e,t,o){}};for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);for(var o="object"==_typeof(l.selector)?[l.selector]:document.querySelectorAll(l.selector),c=0;c<o.length;c++){var s=o[c];s.sc=document.createElement("div"),s.sc.className="autocomplete-suggestions "+l.menuClass,s.autocompleteAttr=s.getAttribute("autocomplete"),s.setAttribute("autocomplete","off"),s.cache={},s.last_val="",s.updateSC=function(e,t){if(s.getBoundingClientRect(),!e&&(s.sc.style.display="block",s.sc.maxHeight||(s.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(s.sc,null):s.sc.currentStyle).maxHeight)),s.sc.suggestionHeight||(s.sc.suggestionHeight=s.sc.querySelector(".autocomplete-suggestion").offsetHeight),s.sc.suggestionHeight))if(t){var o=s.sc.scrollTop,c=t.getBoundingClientRect().top-s.sc.getBoundingClientRect().top;0<c+s.sc.suggestionHeight-s.sc.maxHeight?s.sc.scrollTop=c+s.sc.suggestionHeight+o-s.sc.maxHeight:c<0&&(s.sc.scrollTop=c+o)}else s.sc.scrollTop=0},a(window,"resize",s.updateSC),document.querySelector(".city_select .select").appendChild(s.sc),s.sc.style.display="block",u("autocomplete-suggestion","mouseleave",function(e){var t=s.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},s.sc),u("autocomplete-suggestion","mouseover",function(e){var t=s.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},s.sc),u("autocomplete-suggestion","mousedown",function(e){if(i(this,"autocomplete-suggestion")){var t=this.getAttribute("data-val");s.value=t,l.onSelect(e,t,this),s.sc.style.display="none"}},s.sc),s.blurHandler=function(){},a(s,"blur",s.blurHandler);var r=function(e){var t=s.value;if((s.cache[t]=e).length&&t.length>=l.minChars){for(var o="",c=0;c<e.length;c++)o+=l.renderItem(e[c],t);s.sc.innerHTML=o,s.updateSC(0)}else s.sc.style.display="none"};s.keydownHandler=function(e){var t,o=window.event?e.keyCode:e.which;if((40==o||38==o)&&s.sc.innerHTML)return(c=s.sc.querySelector(".autocomplete-suggestion.selected"))?(t=40==o?c.nextSibling:c.previousSibling)?(c.className=c.className.replace("selected",""),t.className+=" selected",s.value=t.getAttribute("data-val")):(c.className=c.className.replace("selected",""),s.value="\n",t=0):((t=40==o?s.sc.querySelector(".autocomplete-suggestion"):s.sc.childNodes[s.sc.childNodes.length-1]).className+=" selected",s.value=t.getAttribute("data-val")),s.updateSC(0,t),!1;if(27==o)s.value=s.last_val,s.sc.style.display="none";else if(13==o||9==o){var c;(c=s.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=s.sc.style.display&&(l.onSelect(e,c.getAttribute("data-val"),c),s.sc.style.display="none")}},a(s,"keydown",s.keydownHandler),s.keyupHandler=function(e){var t=window.event?e.keyCode:e.which;if(!t||(t<35||40<t)&&13!=t&&27!=t){var o=s.value;if(o.length>=l.minChars){if(o!=s.last_val){if(s.last_val=o,clearTimeout(s.timer),l.cache){if(o in s.cache)return void r(s.cache[o]);for(var c=1;c<o.length-l.minChars;c++){var n=o.slice(0,o.length-c);if(n in s.cache&&!s.cache[n].length)return void r([])}}s.timer=setTimeout(function(){l.source(o,r)},l.delay)}}else s.last_val=o,s.sc.style.display="none"}},a(s,"keyup",s.keyupHandler),s.focusHandler=function(e){s.last_val="\n",s.keyupHandler(e)},l.minChars||a(s,"focus",s.focusHandler)}this.destroy=function(){for(var e=0;e<o.length;e++){var t=o[e];n(window,"resize",t.updateSC),n(t,"blur",t.blurHandler),n(t,"focus",t.focusHandler),n(t,"keydown",t.keydownHandler),n(t,"keyup",t.keyupHandler),t.autocompleteAttr?t.setAttribute("autocomplete",t.autocompleteAttr):t.removeAttribute("autocomplete"),document.body.removeChild(t.sc),t=null}}}function i(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function a(e,t,o){e.attachEvent?e.attachEvent("on"+t,o):e.addEventListener(t,o)}function n(e,t,o){e.detachEvent?e.detachEvent("on"+t,o):e.removeEventListener(t,o)}function u(c,e,n,t){a(t||document,e,function(e){for(var t,o=e.target||e.srcElement;o&&!(t=i(o,c));)o=o.parentElement;t&&n.call(o,e)})}};"function"==typeof define&&define.amd?define("autoComplete",function(){return autoComplete}):"undefined"!=typeof module&&module.exports?module.exports=autoComplete:window.autoComplete=autoComplete,window.addEventListener("resize",function(e){document.querySelector("body > header").style.marginTop=getComputedStyle(document.querySelector("body > header nav")).getPropertyValue("height")}),document.addEventListener("DOMContentLoaded",function(e){function t(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function s(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}void 0!==t("user_city")&&(document.querySelector(".city_select > p").innerHTML=t("user_city")),document.querySelector("body > header").style.marginTop=getComputedStyle(document.querySelector("body > header nav")).getPropertyValue("height"),document.querySelector("body > header nav").style.position="fixed",document.querySelector("body > header nav").style.zIndex="2",document.querySelector("body > header nav").style.top="0",document.querySelector("body > header nav").style.width="100%";for(var o=document.querySelectorAll(".recall"),c=0;c<o.length;c++)o[c].addEventListener("click",function(e){document.getElementById("recall_popup").classList.add("active"),document.getElementById("recall_popup").classList.remove("inactive")});for(var n=document.querySelectorAll(".login"),l=0;l<n.length;l++)n[l].addEventListener("click",function(e){document.getElementById("login_popup").classList.add("active"),document.getElementById("login_popup").classList.remove("inactive")});for(var r=document.querySelectorAll(".close"),i=function(o){r[o].addEventListener("click",function(e){var t=s(r[o],"popup");t.classList.add("inactive"),t.classList.remove("active")})},a=0;a<r.length;a++)i(a);for(var u=document.querySelectorAll(".popup"),d=function(t){u[t].addEventListener("click",function(e){u[t].classList.add("inactive"),u[t].classList.remove("active")})},m=0;m<u.length;m++)d(m);for(var p=document.querySelectorAll(".popup .container"),y=0;y<p.length;y++)p[y].addEventListener("click",function(e){e.stopPropagation()});for(var v=document.querySelectorAll(".account_type input[type='radio']"),f=function(o){v[o].addEventListener("change",function(e){for(var t=0;t<v.length;t++)t!==o&&v[t].parentElement.classList.remove("active");v[o].parentElement.classList.add("active")})},g=0;g<v.length;g++)f(g);document.querySelector(".city_select .select").addEventListener("click",function(e){e.stopPropagation()}),document.querySelector(".city_select > p").addEventListener("click",function(e){document.querySelector(".city_select").classList.contains("active")?(document.querySelector(".city_select").classList.add("inactive"),document.querySelector(".city_select").classList.remove("active"),document.querySelector(".city_select .autocomplete-suggestions").style.display="none"):(document.querySelector(".city_select").classList.add("active"),document.querySelector(".city_select").classList.remove("inactive"),document.querySelector("#user_city").select(),document.querySelector("#user_city").dispatchEvent(new Event("focus")))});for(var h=document.querySelectorAll(".next"),S=function(l){h[l].addEventListener("click",function(e){var t=s(h[l],"slider"),o=t.querySelector(".article.active");if(o.nextElementSibling){o.classList.remove("active"),o.nextElementSibling.classList.add("active");for(var c=t.querySelectorAll(".article"),n=0;n<c.length;n++)c[n].classList.contains("active")&&(t.querySelector(".slide").style.transform="translateX(-"+(n*o.clientWidth).toString()+"px)")}})},L=0;L<h.length;L++)S(L);for(var q=document.querySelectorAll(".prev"),b=function(l){q[l].addEventListener("click",function(e){var t=s(q[l],"slider"),o=t.querySelector(".article.active");if(o.previousElementSibling){o.classList.remove("active"),o.previousElementSibling.classList.add("active");for(var c=t.querySelectorAll(".article"),n=0;n<c.length;n++)c[n].classList.contains("active")&&(t.querySelector(".slide").style.transform="translateX(-"+(n*o.clientWidth).toString()+"px)")}})},_=0;_<q.length;_++)b(_);new autoComplete({selector:"#user_city",minChars:0,offsetLeft:-5,offsetTop:5,source:function(e,t){e=e.toLowerCase();for(var o=[],c=document.querySelectorAll("#cities li"),n=0;n<c.length;n++)o.push(c[n].innerHTML);for(var l=[],s=0;s<o.length;s++)~o[s].toLowerCase().indexOf(e)&&l.push(o[s]);t(l)},onSelect:function(e,t,o){(function(e,t,o){var c=(o=o||{}).expires;if("number"==typeof c&&c){var n=new Date;n.setDate(n.getDate()+c),c=o.expires=n}else{var l=new Date;l.setDate(l.getDate()+30),c=o.expires=l}c&&c.toUTCString&&(o.expires=c.toUTCString());var s=e+"="+(t=encodeURIComponent(t));for(var r in o){s+="; "+r;var i=o[r];!0!==i&&(s+="="+i)}document.cookie=s})("user_city",document.querySelector(".city_select > p").innerHTML=t),document.querySelector("#user_city").value="",document.querySelector(".city_select").classList.add("inactive"),document.querySelector(".city_select").classList.remove("active")}}),document.querySelector("#login_popup form [type='submit']").addEventListener("click",function(e){document.querySelector("#warning_popup").classList.add("active"),document.querySelector("#warning_popup").classList.remove("inactive"),document.querySelector("#login_popup").classList.add("inactive"),document.querySelector("#login_popup").classList.remove("active")})});
//# sourceMappingURL=main.js.map
